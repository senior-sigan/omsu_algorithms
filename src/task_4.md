---
layout: page
title: –ó–∞–¥–∞–Ω–∏–µ 4. –ü–æ–∏—Å–∫ –º–∏–Ω–∏–º—É–º–æ–≤
---

# –ó–∞–¥–∞–Ω–∏–µ 4. –ü–æ–∏—Å–∫ –º–∏–Ω–∏–º—É–º–æ–≤

## –ó–∞–¥–∞–Ω–∏–µ 4.1. –°—Ç–µ–∫ –º–∏–Ω–∏–º—É–º–æ–≤

[–®–∞–±–ª–æ–Ω –∫–æ–¥–∞ –Ω–∞ replit](https://replit.com/@IlyaSiganov/0401stackmin)

–°–¥–µ–ª–∞—Ç—å —Å—Ç–µ–∫ –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–¥–Ω–æ—Å–≤—è–∑–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞, —É –∫–æ—Ç–æ—Ä–æ–≥–æ —Ç—Ä—É–¥–æ–µ–º–∫–æ—Å—Ç—å –≤–∑—è—Ç–∏–µ –º–∏–Ω–∏–º—É–º–∞, –≤—Å—Ç–∞–≤–∫–∞ –≤ —Å—Ç–µ–∫ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –∏–∑ –Ω–µ–≥–æ –∑–∞ `O(1)`.

–°–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫ –Ω–∞–¥–æ –Ω–∞–ø–∏—Å–∞—Ç—å —Å–∞–º–∏–º.

–û–ø–µ—Ä–∞—Ü–∏–∏:

- –≤—Å—Ç–∞–≤–∏—Ç—å –≤ –∫–æ–Ω–µ—Ü —Å—Ç–µ–∫–∞
- —É–¥–∞–ª–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç —Å—Ç–µ–∫–∞
- –≤—ã–¥–∞—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –≤ —Å—Ç–µ–∫–µ

### –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

–ù–∞ –≤—Ö–æ–¥ –ø—Ä–æ–≥—Ä–∞–º–º—ã –ø–æ–¥–∞—é—Ç—Å—è –∫–æ–º–∞–Ω–¥—ã, –∏—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–µ –ø—Ä–µ–≤—ã—à–∞–µ—Ç 100_000. –í –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –æ–¥–Ω–∞ –∏–∑ –∫–æ–º–∞–Ω–¥:

- `push k` ‚Äî –ø–æ–ª–æ–∂–∏—Ç—å —á–∏—Å–ª–æ k –≤ —Å—Ç–µ–∫.
- `pop k` ‚Äî —É–±—Ä–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç –≤ —Å—Ç–µ–∫–µ.
- `top` - –≤—ã–¥–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç –≤ —Å—Ç–µ–∫–µ.
- `min` - –≤—ã–¥–∞—Ç—å —Ç–µ–∫—É—â–∏–π –º–∏–Ω–∏–º—É–º –≤ —Å—Ç–µ–∫–µ.

–¢–∏–ø –¥–∞–Ω–Ω—ã—Ö k ‚Äî int.

–ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è, —á—Ç–æ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –ø–æ–¥–∞–≤–∞—Ç—å—Å—è –ù–ï –±—É–¥—É—Ç.

### –í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

–í—ã–≤–µ—Å—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥ `top` –∏ `min` –≤ –∫–æ–Ω—Å–æ–ª—å.

### –ü—Ä–∏–º–µ—Ä

#### –í—Ö–æ–¥

```text
push 42
top
min
push 12
min
push 13
top
min
pop
pop
min
```

#### –í—ã—Ö–æ–¥

```text
42
42
12
13
12
42
```

### –®–∞–±–ª–æ–Ω –∫–æ–¥–∞

```java
public interface MinStack<T extends Number> {
    void push(T value);
    
    T pop();
    
    T top();
    
    T min();
}

// –ù–ï –î–ï–õ–ê–ô–¢–ï —ç—Ç–æ –≤—Å—ë –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ üôèüôèüôè

public class MinStackImpl implements MinStack<Integer> {
    @Override
    public void push(Integer value) {
	// TODO
    }

    @Override
    public Integer pop() {
	// TODO
        return null;
    }

    @Override
    public Integer top() {
	// TODO
        return null;
    }

    @Override
    public Integer min() {
	// TODO
        return null;
    }
} 
```

## –ó–∞–¥–∞–Ω–∏–µ 4.2 –û—á–µ—Ä–µ–¥—å —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º –Ω–∞ –æ—Å–Ω–æ–≤–µ –ö—É—á–∏

–†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö –û—á–µ—Ä–µ–¥—å, –≤—ã–ø–æ–ª–Ω—è—é—â—É—é —Å–ª–µ–¥—É—é—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:

1. –í—Å—Ç–∞–≤–∏—Ç—å –≤ –æ—á–µ—Ä–µ–¥—å –∑–∞ $O(log(n))$.
2. –ò–∑–≤–ª–µ—á—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç $O(log(n))$.
3. –£–≤–µ–ª–∏—á–∏—Ç—å `i-—ã–π` —ç–ª–µ–º–µ–Ω—Ç –Ω–∞ `v`.

–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—Å—Ç–∞–≤–∫–∏ –≤ –æ—á–µ—Ä–µ–¥—å –≤–≤–æ–¥—è—Ç—Å—è –ø–æ –æ—á–µ—Ä–µ–¥–∏ –∏ –Ω—É–º–µ—Ä—É—é—Ç—Å—è —Å 1.

–ü—Ä–∏ –∏–∑–≤–ª—á–µ–Ω–µ–Ω–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–∞ –∏–∑ –æ—á–µ—Ä–µ–¥–∏, –Ω—É–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏ –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã–π –ø–æ—Ç–æ–∫ –≤—ã–≤–æ–¥–∞ —Å–∞–º —ç–ª–µ–º–µ–Ω—Ç –∏ –Ω–æ–º–µ—Ä –æ–ø–µ—Ä–∞—Ü–∏–∏, –∫–æ–≥–¥–∞ –µ–≥–æ –¥–æ–±–∞–≤–∏–ª–∏.

–¢–æ –µ—Å—Ç—å –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –¥–∞–Ω–Ω—ã—Ö –Ω–∞–¥–æ —Ö—Ä–∞–Ω–∏—Ç—å —Å–∞–º–æ –∑–Ω–∞—á–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ –∏ –Ω–æ–º–µ—Ä –æ–ø–µ—Ä–∞—Ü–∏–∏, –∫–æ–≥–¥–∞ –µ–≥–æ –¥–æ–±–∞–≤–∏–ª–∏.

### –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

–ù–∞ –≤—Ö–æ–¥ –ø—Ä–æ–≥—Ä–∞–º–º—ã –ø–æ–¥–∞—é—Ç—Å—è –∫–æ–º–∞–Ω–¥—ã, –∏—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–µ –ø—Ä–µ–≤—ã—à–∞–µ—Ç 100_000. –í –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –æ–¥–Ω–∞ –∏–∑ –∫–æ–º–∞–Ω–¥:

- `enqueue k` ‚Äî –≤—Å—Ç–∞–≤–∏—Ç—å –≤ –æ—á–µ—Ä–µ–¥—å —á–∏—Å–ª–æ k.
- `dequeue-max` ‚Äî –∏–∑–≤–ª–µ—á—å –∏–∑ –æ—á–µ—Ä–µ–¥–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç.
- `inc i v` - –Ω–∞–π—Ç–∏ —ç–ª–µ–º–µ–Ω—Ç –≤—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–µ–π –Ω–∞ i-–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ —É–≤–µ–ª–∏—á–∏—Ç—å –µ–≥–æ –Ω–∞ v. –ï—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç–∞ —É–∂–µ –Ω–µ—Ç, —Ç–æ –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞—Ç—å.

–¢–∏–ø –¥–∞–Ω–Ω—ã—Ö `k, v` ‚Äî `Integer`, `i` ‚Äî `Long`.

–ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è, —á—Ç–æ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –ø–æ–¥–∞–≤–∞—Ç—å—Å—è –ù–ï –±—É–¥—É—Ç.

### –í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

–ö–æ–º–∞–Ω–¥–∞ `dequeue-max` –ø–µ—á–∞—Ç–∞–µ—Ç –≤ –∫–æ–Ω—Å–æ–ª—å –Ω–æ–º–µ—Ä –æ–ø–µ—Ä–∞—Ü–∏–∏ i, –∫–æ–≥–¥–∞ —ç–ª–µ–º–µ–Ω—Ç –±—ã–ª –≤—Å—Ç–∞–≤–ª–µ–Ω, –∏ —Å–∞–º —ç–ª–µ–º–µ–Ω—Ç `k`.

–ï—Å–ª–∏ –æ—á–µ—Ä–µ–¥—å –ø—É—Å—Ç–∞—è, —Ç–æ –ø–µ—á–∞—Ç–∞–µ–º `*`.

### –ü—Ä–∏–º–µ—Ä

#### –í—Ö–æ–¥

```text
enqueue 10
enqueue 42
enqueue 9
dequeue-max
inc 3 10
dequeue-max
dequeue-max
dequeue-max
```

#### –í—ã—Ö–æ–¥

```text
2 42
3 19
1 10
*
```

### –®–∞–±–ª–æ–Ω –∫–æ–¥–∞

```java
public interface PriorityQueue<T extends Number> {
    void enqueue(T value);
    
    T dequeueMax();
    
    void increment(long operation, T addition);
}

// –ù–ï –î–ï–õ–ê–ô–¢–ï —ç—Ç–æ –≤—Å—ë –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ üôèüôèüôè

public class PriorityQueueImpl implements PriorityQueue<Integer> {
    @Override
    public void enqueue(Integer value) {
	// TODO
    }

    @Override
    public Integer dequeueMax() {
	// TODO
        return null;
    }

    @Override
    public void increment(long operation, Integer addition) {
	// TODO
    }
} 
```

