---
layout: page
title: Задание 12. Калькулятор
---

![бобёр](/assets/bober.png)

# Калькулятор

Мы с вами будем делать КАЛЬКУЛЯТОР! В том числе парсер выражения.

## Обратная польская запись

На [вики](https://ru.wikipedia.org/wiki/Обратная_польская_запись) описано хорошо.

Ваша программа должна уметь вычислять выражения в обратной польской записи и поддерживать:

- бинарные операции + - * /
- целые числа, в том числе отрицательные.

## Программируемый польский калькулятор

Усложним программу: добавим поддержку создания своих операторов произвольной арности, добавим поддержку float типов.

Проектируйте калькулятор, как библиотеку, чтобы пользователь мог дописать свой оператор и встроить в наш калькулятор, не меняя код самой библиотеки.

Главные нововведения:

- парсинг float чисел
- создание операций произвольной арности, например, `sum` должна просуммировать вообще всё что в стеке лежит.

Нельзя использовать std::atoi-like функций. Сами встройте парсер числа.

## Нормальный калькулятор

Сделайте так, чтобы ваша библиотека поддерживала парсинг записей в инфиксной нотации: примение [алгоритм сортировочной станции](https://en.wikipedia.org/wiki/Shunting_yard_algorithm).

# Подсказки

Применяйте ООП.

Можете посмотреть мой [старый стрим на твитче](https://youtu.be/3aMpifryO1A?si=mSIt0RVEoyP0sH2A) про Польский калькулятор.
